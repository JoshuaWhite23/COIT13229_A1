package a1;/** * * @author Joshua */import java.net.*;import java.io.*;public class TCPServer {    public static void main(String args[]) {        try {            int serverPort = 1175;            ServerSocket listenSocket = new ServerSocket(serverPort);            while (true) {                Socket clientSocket = listenSocket.accept();                Connection c = new Connection(clientSocket);            }        } catch (IOException e) {            System.out.println("Listen socket:" + e.getMessage());        }    }}class Connection extends Thread {    ObjectInputStream in;    ObjectOutputStream out;    Socket clientSocket;    public Connection(Socket aClientSocket) {        try {            clientSocket = aClientSocket;            in = new ObjectInputStream(clientSocket.getInputStream());            out = new ObjectOutputStream(clientSocket.getOutputStream());            this.start();        } catch (IOException e) {            System.out.println("Connection:" + e.getMessage());        }    }    public void run() {        try {            Member m = (Member) in.readObject();            System.out.println("Received data from client: " + m.getId());            out.writeObject(m);        } catch (EOFException e) {            System.out.println("EOF:" + e.getMessage());        } catch (IOException e) {            System.out.println("readline:" + e.getMessage());        } catch (ClassNotFoundException ex) {            ex.printStackTrace();        } finally {            try {                clientSocket.close();            } catch (IOException e) {/*close failed*/            }        }    }}